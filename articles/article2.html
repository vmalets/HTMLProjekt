<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>

<body class="body_article">
    <header class="header">
        <h1>Статьи</h1>
        <nav class="header-menu">
            <ul>
                <li><a class="header_link" href="../index.html">Главная страница</a></li>
                <li><a class="header_link" href="../pages/page1.html">Статьи</a></li>
                <li><a class="header_link" href="../pages/page2.html">Каталог</a></li>
                <li><a class="header_link" href="../pages/page3.html">Галерея изображений</a></li>
                <li><a class="header_link" href="../pages/page4.html">Регистрация</a></li>
                <li><a class="header_link" href="../pages/page5.html">Контакты</a></li>
                <li><a class="header_link" href="../pages/page-nav.html">Навигация</a></li>
            </ul>
        </nav>
    </header>
    <main class="main">
        <section>
            <div class="div_article">
                <div class="div_article1">
                    <h2 class="article_title" id="article2">Firefox и Chrome будут шифровать DNS-запросы и обходить цензуру</h2>
                    <hr>
                    <p>На Хабре неоднократно рассказывали о протоколе DNS-over-HTTPS (DoH), недавно принятом в качестве стандарта RFC 8484. Разработанный Mozilla, Google и Cloudflare протокол DNS-шифрования сводит на нет попытки мониторинга трафика «человеком-в-середине».
                        Он устраняет самое «слабое звено» в HTTPS — открытые DNS-запросы, по которым сейчас злоумышленник на уровне провайдера или государства может отслеживать содержимое DNS-пакетов и даже подменять их. Это позволяет блокировать доступ
                        к ресурсу по IP-адресу или доменному имени.
                    </p>
                    <p>Менее полутора месяцев осталось до вступления в силу закона об изоляции Рунета, закон Яровой уже вступил в силу, а государство и частные компании усиливают попытки слежки за гражданами в интернете. В такой ситуации очень своевременно
                        пришли новости от ведущих разработчиков браузеров. Разработчики Firefox и Chrome практически синхронно объявили о внедрении DNS-шифрования.</p>
                    <p>6 сентября 2019 года Mozilla объявила о решении включить по умолчанию протокол DoH (DNS-over-HTTPS) в одной из следующих версий браузера Firefox.</p>
                    <p>Вкратце, DoH инкапсулирует DNS-запросы в пакеты HTTPS, превращая их в обычный зашифрованный веб-трафик. Запросы отправляются как HTTP POST или GET с телом в формате сообщения DNS (датаграммы из обычных DNS-запросов) или как запрос
                        HTTP GET в формате JSON. Как и при обычном веб-трафике HTTPS, для подключения через DoH не требуется аутентификация, а сертификат проверяется центром сертификации.</p>
                    <p>Незашифрованный URL также может быть перехвачен через поле запроса SNI (Server Name Indication) — специального расширения протокола TLS. Для устранения этой уязвимости в Firefox уже внедрён стандарт зашифрованной передачи имени хоста
                        Encrypted SNI (ESNI), где клиентская система получает публичный ключ сервера из DNS и производит шифрование всех данных ещё до начала TLS-сессии. На этой странице вы можете проверить, поддерживает ли ваш браузер ESNI и другие стандарты
                        шифрования.
                    </p>
                    <p>Mozilla начала эксперименты с DoH в июне 2018 года и убедилась, что он обеспечивает достаточную производительность, не конфликтуя с настройками родительского контроля и корпоративными политиками (с отключением DoH в случае их обнаружения
                        или в случае других проблем резолвинга DNS).</p>
                    <p>По результатам тестирования Mozilla приняла решение постепенно развернуть DoH для всех пользователей в США, начиная с конца сентября. Развёртывание будет происходить в «резервном режиме», то есть DoH будет автоматически отключаться
                        при малейших проблемах.
                    </p>
                    <p>План состоит в том, чтобы начать медленно включать DoH для небольшого процента пользователей при мониторинге любых проблем, прежде чем включить для большей аудитории. Если всё пройдёт хорошо, то Mozilla сообщит, когда будет готова
                        к 100% развертыванию.
                    </p>
                    <p>По умолчанию в Firefox установлен DNS-резолвер Cloudflare. Его можно сменить на другого провайдера или вовсе отключить DoH вручную. Для этого в настройках about:config нужно установить параметр network.trr.mode в значение 5. Значение
                        2 соответствует конфигурации по умолчанию (Cloudflare), значение 1 — автоматическому выбору самого быстрого резолвера. Сейчас всё это работает в альфа-версии Firefox Nightly.</p>
                    <p>10 сентября 2019 года об аналогичных планах объявили разработчики Chromium. Экспериментальная обкатка DoH начнётся в следующей сборке Chrome 78, стабильный релиз которой ожидается 22 октября 2019 года. В отличие от Mozilla, которая
                        постепенно внедряет функцию для пользователей из США, эксперимент Google изначально более масштабный, без географических ограничений. Сразу со старта доступны шесть CDN-провайдеров: это Cleanbrowsing, Cloudflare, DNS.SB, OpenDNS,
                        Quad9 и Google. К моменту запуска список партнёров может быть увеличен.</p>
                    <p>От участия в эксперименте в Chrome 78 можно будет отказаться, отключив флажок chrome://flags/#dns-over-https в настройках.</p>
                    <p>Поддержка DoH и в браузере, и у CDN позволяет эффективно бороться с блокировкой ресурсов со стороны «человека-в-середине», что представляет собой актуальную проблему в том числе для России.
                    </p>
                </div>
                <div>
                    <hr>
                    <h3 id="comments_article2">Комментарии</h3>
                    <hr>
                    <p><b>Javian</b> сегодня в 08:32<br> Полумера. Это должно быть на уровне роутера. В тот же Cмарт ТВ Хром не поставишь, если он не на Android.</p>
                    <p><b>shifttstas</b> сегодня в 09:13<br> Не сомневаюсь, что в роутерах это так же появится, текущая сложность пожалуй только в том, что роутер на данный момент не работает с HTTP/2 / HTTPS трафиком и скорее всего не обладает нужным софтом
                        для установки такого соединения.
                    </p>
                    <p><b>DonArmaturo</b> сегодня в 09:00<br> Как-то сразу вопрос. А что помешает «резать» обращения к CDN? Кстати, что-то запутался в аббревиатурах. Content Delivery Network — Сеть Доставки Контента. Функции обработки шифрованных DNS-запросов
                        будут реализованы в «выносных точках присутствия (PoP) за пределами исходного сервера»? Ну, будем мы периодически получать ту же картину, как при борьбе с «телегой» — огромное число недоступных серверов. Бить будут по площадям.</p>
                    <p><b>Whuthering</b> сегодня в 10:09<br> Не понимаю, почему все так радуются, считая что это поможет «борьбе с цензурой». Ну да, DNS-запросы будут шифрованные и их уже на лету не подменят. Ну да, имена хостов в eSNI будут шифрованные,
                        и их уже на лету не подслушают и не дропнут соединение. Но что мешает РКНу тупо резолвить даже через тот же DoH домены из черного списка и банить их по IP-адресам? Да ничего не мешает. Конечно, заодно могут отвалиться сотни сервисов,
                        висящих на том же хостинге или CDN, но ковровые бомбардировки Телеграма уже не раз показывали, что проблемы пользователей РКН не волнуют.</p>
                    <p><b>Balling</b> сегодня в 10:39<br> Вы не можете начать банить ip адреса, так как они вам не принадлежат, они принадлежат RIR и вообще вот например, rutracker блокируется по ip (ксати это не так у МТС (у него обходится по ipv6 к тому
                        же), а только МГТС), а завтра они поменяют их и что? Огромное количество сервисов находится над cloudflare, ip которых всё время динамически изменяются и т.п. и т.д. Вы зашибетесь их блокировать… Сейчас-то все работает через SNI
                        просмотр, таким образом ip не блокируется, связность сохраняется, плюс еще в помощь dns запросы, которые ускоряют дропинг трафика (типо подсказки). А теперь представьте подсказки нет, вы заблокировали ip, через пару секунд он достался
                        другому сервису, а он например, раздает шрифты, которые много где используются. И сюрприз, все отвалилось. Или например, на одном ip сразу 10 разных сервисов. Или например, сделать так, чтобы ваш домен резолвился в адрес сайта
                        фсб россии, пентагона, госуслуг, роскомнадзора. Вы заблокировали его. Или в ip google и в ip школы, универа. Все приехали, вы заблокировали google. Сразу иск в суд за недополученную прибыль. Нет, с приходом eSNI конец наступит
                        Роскомнадзору.
                    </p>
                </div>
            </div>
        </section>
    </main>
    <footer class="footer">
        <div class="copy">
            <p>&copy; Malets Vladimir</p>
        </div>
    </footer>
</body>

</html>